/* Media ------------------------------------- */

figure {
  margin: 0;
}

iframe {
  border: none;
  display: block;
  max-width: 100%;
}

img,
embed,
object,
video {
  display: block;
  height: auto;
  max-width: 100%;
}

svg {
  display: block;
}

.svg-icon {
  width: 28px;
  height: 28px;
}

figcaption,
.wp-caption-text {
  color: var(--ag-secondary-color);
  display: block;
  font-size: 1.5rem;
  font-weight: 400;
  line-height: 1.5;
  margin-top: 1.2rem;

  @media (min-width: $tablet) {
    font-size: 1.6rem;
  }
}

figcaption a {
  color: inherit;
}

/* GALLERIES */

.gallery {
  display: flex;
  flex-wrap: wrap;
  margin: 3em 0 3em -0.8em;
  width: calc(100% + 1.6em);
}

.gallery-item {
  margin: 0.8em 0;
  padding: 0 0.8em;
}

.gallery-item img,
.gallery-item {
  display: block;
  width: 100%;
}

.gallery-caption {
  display: block;
  margin-top: 0.8em;
}

@media (min-width: $tablet) {
  .gallery-columns-2 .gallery-item {
    max-width: 50%;
  }
  .gallery-columns-3 .gallery-item {
    max-width: 33.33%;
  }
  .gallery-columns-4 .gallery-item {
    max-width: 25%;
  }
  .gallery-columns-5 .gallery-item {
    max-width: 20%;
  }
  .gallery-columns-6 .gallery-item {
    max-width: 16.66%;
  }
  .gallery-columns-7 .gallery-item {
    max-width: 14.28%;
  }
  .gallery-columns-8 .gallery-item {
    max-width: 12.5%;
  }
  .gallery-columns-9 .gallery-item {
    max-width: 11.11%;
  }
}

/* Image Sizer ------------------------------- */

.image-sizer:not(.auto) {
  width: 100%;
  height: 0;
  padding-bottom: 56.25%;
  position: relative;
  overflow: hidden;

  &.square,
  &.circle {
    padding-bottom: 100%;
  }
  &.circle {
    border-radius: 100%;
  }
  &.landscape {
    padding-bottom: 75%;
  }
  &.portrait {
    padding-bottom: 125%;
  }
  &.wide {
    padding-bottom: 56.25%;
  }
  &.tall {
    padding-bottom: 150%;
  }

  > * {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }

  img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
}

/* Fallback Image ---------------------------- */

.fallback-image-dark-mode {
  display: none;
}

@media (prefers-color-scheme: dark) {
  .has-dark-mode-palette .fallback-image-dark-mode {
    display: block;
  }
  .has-dark-mode-palette .fallback-image-regular {
    display: none;
  }
}
